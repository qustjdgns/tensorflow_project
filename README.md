# League of Legends – 기여도 분석 모델 
라인별 기여도 기반 퍼포먼스 해석 모델

이 프로젝트는 단순 KDA나 누적 딜량 대신,  
**라인별 역할과 시간대 성장 흐름을 반영한 “기여도(Contribution)”를 정의하고  
챌린저 경기 데이터를 객관적으로 분석하기 위한 모델을 구축하는 것**을 목표로 한다.


---

# 1. 문제의식

기존 지표들은 라인별 역할 차이와 시간대 성장 흐름을 반영하지 못해 챌린저 구간에서도 실력 차이를 정확히 설명하기 어렵기 때문에, 
이 프로젝트는 “각 라인이 각 시간대에 얼마나 기여했는가”를 공정하게 평가하는 새로운 모델이 필요하다는 문제의식에서 출발했다.

> **“각 라인이 각 시간대에서 요구되는 만큼 기여하고 있는지를  
> 공정하게 평가할 수 있는 모델은 만들 수 없을까?”**

---

# 2. 해결 방식 요약

## 2.1 라인 × 시간대 기준선 구축  
5.3만 경기의 분단위 데이터를 기반으로  
각 라인·각 분(minute)의 중앙값을 기준선(=1)으로 정의했다.

이 기준선은  
“그 라인이 해당 시간대에 보통 어느 정도 기여하는가”를 뜻하며,  
모든 플레이어의 분단위 스탯은 이 기준선 대비 **상대적인 기여도**로 변환된다.

---

## 2.2 Timeline Score(핵심 기여도)

상대 지표들을 라인별 가중치로 결합해  
**분단위 성장 기여도(Timeline Score)** 를 계산했다.  
포지션의 역할 차이를 반영하기 위해 라인별로 서로 다른 가중치를 적용했다.

---

## 2.3 Final Contribution(최종 기여도)

Timeline Score는 여러 시간대에서 다르게 나타나기 때문에,  
특정 순간의 스냅샷만 보는 것은 한계가 있다.  

그래서 실제 기여도는 다음 핵심 시간대의 평균으로 정의했다.

**8분 / 10분 / 12분 / 15분 / 20분**

8·10·12·15·20분 스냅샷은 챌린저 경기에서 성장 격차가 가장 뚜렷하게 벌어지는 핵심 구간이기 때문에, 
이 다섯 시점의 Timeline Score 평균은 한 경기의 라인별 기여도를 대표하는 단일 지표로 활용된다.

이 평균값이 프로젝트의 모든 분석
(ex : 라인 분포, 개인 일관성, 군집, 레이더 차트, 승패 예측력 평가)fmf 관통하는 핵심 지표로 사용된다.

---

# 3. 데이터 전처리 

1087개의 매치·타임라인 파일에서
약 30만 개의 분단위 기록과 5만 개의 최종 스탯을 모아,

각 라인이 그 시간대에 평균적으로 어느 정도 성장하는지를 기준으로 만들고,
그 기준에 비해 플레이어가 더 잘했는지·덜 했는지를 상대 기여도로 계산한다.

---

# 4. 모델  

> 라인별 기준선으로 상대화된 분단위 스탯을 가중합하여 Timeline Score를 만들고,
> 주요 성장 시점의 평균을 Final Contribution으로 정의해 플레이어의 전체 퍼포먼스를 공정하게 표현하는 모델이다.

---

# 5. 결과 및 시각화 해석

---

## **Figure 1 — 라인별 기여도 분포 (Violin Plot)**  

<img src="Figure_1.png" width="650"><img width="1200" height="700" alt="Figure_1" src="https://github.com/user-attachments/assets/16ee8a5f-735a-41f5-8d36-af987ca7d3c6" />


이 그래프는 각 라인(BOTTOM은 ADC+SUP 통합)의 기여도 분포를  
승리팀(파랑) / 패배팀(빨강)으로 구분해 나타낸 것이다.

- 승리팀의 기여도는 **항상 기준선(=1) 이상에 위치**  
- 패배팀은 **기준선 아래에 집중됨**  
- 라인별 기여도는 뚜렷하게 승패와 패턴을 달리함  

이것은 Timeline 기반 기여도가  
**승패를 전혀 사용하지 않고 계산되었음에도**  
자연스럽게 경기 결과와 정렬됨을 의미한다.

---

## **Figure 2 — 개인별 기여도 일관성 (Scatter Plot)**  

<img width="1500" height="600" alt="Figure_2" src="https://github.com/user-attachments/assets/854b9bea-536d-4560-b08b-bf35cbb65c22" />


한 플레이어의 여러 경기 기여도를 시간 순서대로 나열한 그래프다.

- 파랑(승) / 빨강(패)로 구분  
- 회색선: 전체 평균(1.0)  
- 초록선: 해당 플레이어의 평균  

이 그래프를 통해  
- **안정형(편차가 작음)**  
- **폭발형(기복이 큼)**  
- **캐리형(평균이 높음)**  

등의 성향을 구체적으로 파악할 수 있다.

---

## **Figure 3 — 군집 분석 (Mean vs Std)**  
<img width="1200" height="900" alt="Figure_3" src="https://github.com/user-attachments/assets/a46dd863-b25b-4f79-8278-45424ada5e4f" />


모든 챌린저 플레이어를 평균 기여도(성능)와 기여도 표준편차(안정성) 기준으로  
군집화한 결과다.

- 오른쪽 아래: **고평균·저기복 = 안정적 캐리형**  
- 오른쪽 위: **고평균·고기복 = 폭발형 캐리**  
- 왼쪽 아래: **저평균·저기복 = 안정적 약캐**  
- 왼쪽 위: **저평균·고기복 = 불안정형**

해당 라인에서 어떤 스타일이 존재하는지  
하나의 좌표계에서 비교할 수 있다.

---

## **Figure 4 — 한 경기 시간대별 라인 흐름**  
<img width="1200" height="900" alt="Figure_4" src="https://github.com/user-attachments/assets/8cd82666-c4b7-413f-8fe4-d0dfdb813302" />


시간대별 흐름 그래프(5-4)는 한 경기 안에서 라인의 기여도가 어떻게 변하는지 보여주는 용도,
Timeline 점수만 쓰면 들쭉날쭉하게 보인다. 
그래서 흐름을 조금 더 부드럽게 보이도록 Final Stats를 아주 조금 섞은 보조 점수를 따로 만들었고, 
이 점수는 그래프용일 뿐 실제 기여도 계산이나 군집 분석에는 전혀 사용하지 않는다.



---

## **Figure 5 — 레이더 차트 (소환사 vs 전체 평균)**  
<img width="1200" height="900" alt="Figure_5" src="https://github.com/user-attachments/assets/ad2c7469-f11e-452e-baa7-e03016400651" />


특정 플레이어가 각 라인에서  
전체 평균 대비 어느 정도 기여하는지를 보여준다.

- 다포지션 플레이어의 강점/약점 확인  
- 라인별 성향 파악  
- 특정 라인에서의 기여도가 매우 높거나 낮을 때 즉시 인지 가능  

챌린저 구간에서 포지션별 성향을 시각적으로 이해하기 적합하다.

---

## **Figure 6 — 승패 예측: Confusion Matrix**  
<img width="1200" height="900" alt="Figure_6" src="https://github.com/user-attachments/assets/550deea3-6914-4afa-9e3b-0772570cefe8" />


Final Contribution만으로 승/패를 예측했을 때의 결과다.

- Accuracy 약 63~70%  
- 승/패 모두 고르게 예측되는 편  

기여도가 단순 지표(KDA 등)보다  
경기 결과를 훨씬 더 잘 설명한다는 사실을 보여준다.

---

## **Figure 7 — 승패 예측: ROC Curve (AUC)**  

<img width="1500" height="800" alt="Figure_7" src="https://github.com/user-attachments/assets/17e9966a-d969-4e3e-83e0-57fb94ab08cf" />
<img width="600" height="500" alt="Figure_9" src="https://github.com/user-attachments/assets/61004f8b-d718-4f65-9e97-cb62d43512b3" />
<img width="600" height="500" alt="Figure_10" src="https://github.com/user-attachments/assets/31bb26b1-c3cc-4b9a-ac22-2a097360469b" />

AUC 약 **0.70**,  
즉 기여도만으로도 상당히 높은 판별력을 가진다는 의미다.

---

# 6. 결론

이 모델은 라인별·시간대별 편차를 제거한 Timeline 기반 방식으로 기여도를 공정하게 산출하며, 
이를 통해 플레이어 성향(안정형·폭발형·캐리형)을 분석할 수 있다. 
또한 단일 지표만으로도 승패를 63~70% 수준에서 설명할 만큼 예측력이 있으며, 
시간 흐름까지 함께 분석할 수 있어 경기 내용을 더 입체적으로 해석할 수 있다.
기여도는 단순 KDA보다  **실제 경기력과 승패 흐름을 훨씬 더 정확하게 반영하는 지표** 임이 확인되었다.

---



