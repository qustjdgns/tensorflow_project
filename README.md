# League of Legends – Line Contribution Model (v5.2)
라인별 기여도 기반 퍼포먼스 해석 모델

이 프로젝트는 단순 KDA나 누적 딜량 대신,  
**라인별 역할과 시간대 성장 흐름을 반영한 “기여도(Contribution)”를 정의하고  
챌린저 경기 데이터를 객관적으로 분석하기 위한 모델을 구축하는 것**을 목표로 한다.

---

# 1. 문제의식

기존의 주요 지표(KDA, 딜량, 골드)는 다음과 같은 근본적 한계를 갖는다.

- 같은 수치라도 **라인이 다르면 의미가 달라짐**  
- 경기의 **성장 흐름**이 완전히 사라짐  
- 챌린저 구간에서도 **정확한 실력 차이를 설명하지 못함**  
- 정글·서포터 같은 포지션은 지표 구조 자체가 불리함  

결국, 기존 지표는 **“이 선수가 잘했는가?”**를 설명하기 어렵다.

그래서 이 프로젝트는 다음 질문에서 출발했다.

> **“각 라인이 각 시간대에서 요구되는 만큼 기여하고 있는지를  
> 공정하게 평가할 수 있는 모델은 만들 수 없을까?”**

---

# 2. 해결 방식 요약

## 2.1 라인 × 시간대 기준선 구축  
5.3만 경기의 분단위 데이터를 기반으로  
각 라인·각 분(minute)의 중앙값을 기준선(=1)으로 정의했다.

이 기준선은  
“그 라인이 해당 시간대에 보통 어느 정도 기여하는가”를 뜻하며,  
모든 플레이어의 분단위 스탯은 이 기준선 대비 **상대적인 기여도**로 변환된다.

---

## 2.2 Timeline Score(핵심 기여도)

상대 지표들을 라인별 가중치로 결합해  
**분단위 성장 기여도(Timeline Score)** 를 계산했다.  
포지션의 역할 차이를 반영하기 위해 라인별로 서로 다른 가중치를 적용했다.

---

## 2.3 Final Contribution(최종 기여도)

Timeline Score는 여러 시간대에서 다르게 나타나기 때문에,  
특정 순간의 스냅샷만 보는 것은 한계가 있다.  

그래서 실제 기여도는 다음 핵심 시간대의 평균으로 정의했다.

**8분 / 10분 / 12분 / 15분 / 20분**

이 평균값이 바로  
- 라인별 기여도 분포  
- 개인 기여도 일관성  
- 군집 분석  
- 레이더 차트  
- 승패 예측력 검증  

등 모든 분석의 중심 지표가 된다.

---

## 2.4 Hybrid Score(시간대별 흐름 전용)

Final Stats는 승패 영향이 강하기 때문에  
기여도 모델에 포함하지 않고,  
**경기 흐름을 시각화(5-4)할 때만 보조적으로 사용**한다.

---

## 2.5 승패 라벨의 사용 원칙

- **기여도 산출 과정에는 절대 사용하지 않음**
- 기여도가 승패를 얼마나 설명하는지  
  “사후 검증(Post-analysis)” 단계에서만 활용함

그 결과,  
Final Contribution 하나로도 **약 63~70% 정확도**로 승패를 예측할 수 있었다.

---

# 3. 데이터 전처리 요약

- match_X.json: 1087개  
- timeline_X.json: 1087개  
- 약 30만 개의 분단위 timeline row  
- 약 5만 개의 최종 스탯 row  

이 데이터를 기반으로  
각 라인×시간대 기준선과 상대 기여도(Relative Contribution)를 계산한다.

---

# 4. 모델 구조 (입력 → 처리 → 출력)

> **“라인별 기준선으로 상대화된 분단위 스탯을 가중합하여 Timeline Score를 만들고,  
> 핵심 시간대의 평균을 Final Contribution으로 정의하는 모델”**

---

# 5. 결과 및 시각화 해석

아래는 모델에서 생성된 주요 시각화이며,  
각 이미지가 어떤 의미를 가지는지 상세히 설명한다.

---

## **Figure 1 — 라인별 기여도 분포 (Violin Plot)**  
<img src="Figure_1.png" width="650"><img width="1200" height="700" alt="Figure_1" src="https://github.com/user-attachments/assets/16ee8a5f-735a-41f5-8d36-af987ca7d3c6" />


이 그래프는 각 라인(BOTTOM은 ADC+SUP 통합)의 기여도 분포를  
승리팀(파랑) / 패배팀(빨강)으로 구분해 나타낸 것이다.

- 승리팀의 기여도는 **항상 기준선(=1) 이상에 위치**  
- 패배팀은 **기준선 아래에 집중됨**  
- 라인별 기여도는 뚜렷하게 승패와 패턴을 달리함  

이것은 Timeline 기반 기여도가  
**승패를 전혀 사용하지 않고 계산되었음에도**  
자연스럽게 경기 결과와 정렬됨을 의미한다.

---

## **Figure 2 — 개인별 기여도 일관성 (Scatter Plot)**  

<img width="1500" height="600" alt="Figure_2" src="https://github.com/user-attachments/assets/854b9bea-536d-4560-b08b-bf35cbb65c22" />


한 플레이어의 여러 경기 기여도를 시간 순서대로 나열한 그래프다.

- 파랑(승) / 빨강(패)로 구분  
- 회색선: 전체 평균(1.0)  
- 초록선: 해당 플레이어의 평균  

이 그래프를 통해  
- **안정형(편차가 작음)**  
- **폭발형(기복이 큼)**  
- **캐리형(평균이 높음)**  

등의 성향을 구체적으로 파악할 수 있다.

---

## **Figure 3 — 군집 분석 (Mean vs Std)**  
<img width="1200" height="900" alt="Figure_3" src="https://github.com/user-attachments/assets/a46dd863-b25b-4f79-8278-45424ada5e4f" />


모든 챌린저 플레이어를 평균 기여도(성능)와 기여도 표준편차(안정성) 기준으로  
군집화한 결과다.

- 오른쪽 아래: **고평균·저기복 = 안정적 캐리형**  
- 오른쪽 위: **고평균·고기복 = 폭발형 캐리**  
- 왼쪽 아래: **저평균·저기복 = 안정적 약캐**  
- 왼쪽 위: **저평균·고기복 = 불안정형**

해당 라인에서 어떤 스타일이 존재하는지  
하나의 좌표계에서 비교할 수 있다.

---

## **Figure 4 — 한 경기 시간대별 라인 흐름 (Hybrid Score)**  
<img width="1200" height="900" alt="Figure_4" src="https://github.com/user-attachments/assets/8cd82666-c4b7-413f-8fe4-d0dfdb813302" />


한 경기 내에서 각 라인의 기여도가  
시간대에 따라 어떻게 변화하는지를 보여준다.

- 실선: 승리팀  
- 점선: 패배팀  

이 그래프는 다음을 관찰하는 데 유용하다.

- 어느 시간대에 승/패 팀의 격차가 벌어지는지  
- 각 라인의 역할이 어느 시점부터 강화되는지  
- 특정 라인이 경기 흐름을 주도하는 순간  

이처럼 단순히 한 수치로는 볼 수 없는  
**“시간대 성장 흐름”**을 시각적으로 제공한다.

---

## **Figure 5 — 레이더 차트 (소환사 vs 전체 평균)**  
<img width="1200" height="900" alt="Figure_5" src="https://github.com/user-attachments/assets/ad2c7469-f11e-452e-baa7-e03016400651" />


특정 플레이어가 각 라인에서  
전체 평균 대비 어느 정도 기여하는지를 보여준다.

- 다포지션 플레이어의 강점/약점 확인  
- 라인별 성향 파악  
- 특정 라인에서의 기여도가 매우 높거나 낮을 때 즉시 인지 가능  

챌린저 구간에서 포지션별 성향을 시각적으로 이해하기 적합하다.

---

## **Figure 6 — 승패 예측: Confusion Matrix**  
<img width="1200" height="900" alt="Figure_6" src="https://github.com/user-attachments/assets/550deea3-6914-4afa-9e3b-0772570cefe8" />


Final Contribution만으로 승/패를 예측했을 때의 결과다.

- Accuracy 약 63~70%  
- 승/패 모두 고르게 예측되는 편  

기여도가 단순 지표(KDA 등)보다  
경기 결과를 훨씬 더 잘 설명한다는 사실을 보여준다.

---

## **Figure 7 — 승패 예측: ROC Curve (AUC)**  

<img width="1500" height="800" alt="Figure_7" src="https://github.com/user-attachments/assets/17e9966a-d969-4e3e-83e0-57fb94ab08cf" />

AUC 약 **0.70**,  
즉 기여도만으로도 상당히 높은 판별력을 가진다는 의미다.

---

# 6. 결론



- 라인별·시간대별 편차 제거  
- Timeline 기반의 공정한 기여도 산출  
- 플레이어 성향(안정형/폭발형/캐리형) 분석 가능  
- 단일 지표만으로 63~70%의 승패 설명력  
- 시간 흐름까지 포함한 다면적 해석  

기여도는 단순 KDA보다  
**실제 경기력과 승패 흐름을 훨씬 더 정확하게 반영하는 지표**임이 확인되었다.

---



