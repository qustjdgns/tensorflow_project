# League of Legends Contribution Model (LoL 기여도 분석 모델) 최종 보고서
---

# 1. 프로젝트 개요
---
이 프로젝트는 리그 오브 레전드(LoL) 경기 데이터를 분석하여, 단순한 KDA나 딜량 통계의 한계를 넘어 포지션별 역할과 경기 시간대별 흐름을 반영한 객관적인 기여도 평가 모델을 구축하는 것을 목표로 합니다.

핵심 접근법

상대 격차(Lane Diff) 기반 평가: 절대적인 스탯이 아닌, **"맞라인 상대보다 얼마나 잘했는가?"**를 측정하여 챔피언 상성 및 메타 유불리를 최소화했습니다.

스냅샷(Snapshot) 기반 타임라인 평가: 승패가 갈리는 주요 시간대(8~20분)의 분 단위 데이터를 집중 분석했습니다.

휴리스틱 가중치 모델 (Heuristic Weighted Model): 승패 라벨을 학습(Fitting)하지 않고, 도메인 지식에 기반한 논리적 가중치를 적용하여 모델의 설명력을 높였습니다.

# 2. 데이터 전처리 및 피처 정의
---
본 모델은 경기 데이터를 **Timeline(분당 흐름)**과 Final(최종 성과) 두 가지 차원에서 분석하며, 특히 **'상대방과의 격차'**에 집중합니다.

## 2-1. Timeline Features (Diff 기반 핵심 지표)
---
게임의 성장 과정(Laning Phase)을 평가하기 위해 8/10/12/15/20분 시점의 데이터를 추출하여 가공했습니다.

| 피처명 | 설명 | 중요성 (Why?) |
|--------|--------|----------------|
| Diff Gold | 내 골드 - 상대 골드 | 아이템 차이는 곧 전투력 차이입니다. 승률과 가장 높은 상관관계를 가집니다. |
| Diff XP | 내 경험치 - 상대 경험치 | 초반 교전에서의 레벨 우위(6렙 vs 5렙)를 평가하는 핵심 척도입니다. |
| Diff CS | 내 CS - 상대 CS | 라인 관리 능력과 파밍 주도권을 나타냅니다. (원딜 라인 중요) |
| Deaths | 데스 횟수 | 상대에게 제압 골드를 헌납하고 성장을 멈추게 하는 치명적인 페널티입니다. |

## 2-2. Final Stats Features (f_ 접두사)
---
게임 종료 시점의 최종 성과 지표로, 5-4(시간대별 곡선) 분석 시 하이브리드 점수에 30% 비중으로 반영됩니다.

| 피처명 | 설명 | 핵심 반영 라인 |
|--------|--------|----------------|
| f_killParticipation | 킬 관여율(KP) | JUNGLE, MID, SUP |
| f_visionScore | 시야 점수 | SUP, JUNGLE |
| f_damageDealtToTurrets | 포탑 피해량 | TOP, ADC (스플릿/철거) |

# 3. 기여도 산출 로직 및 가중치 (핵심 알고리즘)
---
머신러닝 학습을 배제하고, LoL 도메인 지식을 바탕으로 라인별 역할을 수치화한 가중치 모델을 설계했습니다.

## 3-1. 모델링 방법론 (Input-Model-Output)
---
입력 (Input): 분당 Diff Data (Gold, XP, CS) & Death

모델 (Model): 선형 결합 (Linear Combination)

$$Score = (Diff_{Gold} \times 0.4) + (Diff_{XP} \times 0.3) + (RoleScore \times 0.2) - (Death \times Penalty)$$

출력 (Output): 중앙값(Median) 1.0 기준으로 정규화된 기여도 지수

## 3-2. 라인별 가중치 상세
---
| 라인 | 제1요소 (40%) | 제2요소 (30%) | 제3요소 (Role, 20%) | 페널티 (Death) |
|------|----------------|----------------|----------------------|------------------|
| TOP / MID | Gold Diff | XP Diff | 딜량 비율 | -15% / 1데스 |
| ADC | Gold Diff | CS Diff | 타워 딜량 | -15% / 1데스 |
| JUNGLE | XP Diff | Gold Diff | 정글 몬스터 수 | -15% / 1데스 |
| SUP | Gold Diff | XP Diff | 시야 점수 | -10% (완화) |

설계 근거: > 1. 모든 라인에서 골드 격차가 승리에 가장 큰 영향을 미쳤습니다.  
2. 서포터는 희생적인 플레이가 요구되므로 데스 페널티를 소폭 완화했습니다.  
3. 정글러는 레벨링(XP)이 갱킹 성공률에 직결되므로 XP 비중을 높였습니다.

# 4. 스냅샷(Snapshot) 기반 평가 로직
---
기여도는 전 구간 단순 평균이 아닌, **승패가 갈리는 결정적 순간(Critical Moments)**의 데이터를 추출하여 계산합니다.

스냅샷 시점: 8분, 10분, 12분, 15분, 20분

선정 이유:

8~10분: 라인전 주도권 결정 및 첫 전령/용 교전.  
15분: 포탑 방패 소멸 및 라인전 페이즈 종료.  
20분: 바론 생성 및 중반 운영(사이드 스플릿) 전환점.

# 5. 분석 결과 및 시각화
---
## 5-1. 라인별 종합 기여도 분포 (승리 vs 패배)
---
<img width="1200" height="700" alt="image" src="https://github.com/user-attachments/assets/e77c583e-5e85-433d-85c1-7e859b064056" />

해석:

승리팀(파랑): 상대방과의 격차(Diff) 점수가 더해져 기여도 중앙값이 1.2 이상으로 높게 형성됩니다. 상위권(Hard Carry) 유저들이 꼬리를 길게 형성합니다.

패배팀(빨강): 상대에게 밀린 격차와 데스 페널티로 인해 중앙값이 0.8 이하로 낮게 형성됩니다.

결론: 'Diff' 기반 모델 적용 결과, 승/패 그룹 간의 **분포 분리(Separation)**가 매우 명확해졌습니다.

## 5-2. 개인별 일관성 분석 (Bonnie#0314)
---
<img width="1500" height="600" alt="image" src="https://github.com/user-attachments/assets/a18306f1-a43b-45c9-9422-8517bc0fb91b" />

지표 해석:

내 평균: 1.01 (Stable)

평가: 승리 경기에서는 1.3 이상(Carry), 패배 경기에서도 0.8 수준(Defense)을 기록하며, 팀의 승패 흐름에 부합하는 정상적인 기여도 패턴을 보입니다. 트롤링이나 버스 탑승 빈도가 낮음을 데이터로 확인했습니다.

## 5-3. 라인별 소환사 유형 군집 분석 (K-Means)
---
군집 유형 도출:

하이퍼 캐리형 (Hyper Carry): 높은 Diff Gold + 높은 표준편차 (주로 공격적인 칼챔 유저)

안정적 운영형 (Solid): 준수한 Diff + 매우 낮은 데스 및 기복 (국밥 챔피언 유저)

라인전 약세형 (Weakside): 낮은 Diff + 낮은 딜량 (성장형 챔피언 실패 사례)

## 5-4. Match ID 367 시간대별 기여도 (승리 vs 패배)
---
<img width="1500" height="800" alt="image" src="https://github.com/user-attachments/assets/0ad134fb-51ea-4592-8c45-8656b8fa198c" />

경기 흐름 분석:

승리팀 바텀(실선): 8분 시점부터 골드 격차를 벌리며 그래프가 급격히 우상향, 종료 시점 1.5를 돌파하며 게임을 지배했습니다.

패배팀 바텀(점선): 데스 누적으로 인해 그래프가 0.5 이하로 급락했습니다.

결론: **"상대적 격차(Diff)"**를 반영했기에, 한 쪽이 오르면 반대쪽이 내려가는 디커플링(Decoupling) 현상이 명확히 관찰됩니다.

# 6. 모델 성능 검증 (Model Validation)
---
## 6-1. 변별력 검증 (ROC Curve Analysis)
---
<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/1d4d7aca-e5cc-405f-a6da-84c2050136e8" />

AUC Score: 0.72

해석:

단순 스탯(절대평가)이 아닌 **격차(상대평가)**와 데스 페널티를 도입한 결과, 모델의 설명력이 우수한 수준인 0.7 이상으로 나타났습니다.

이는 승패 라벨을 학습하지 않은 휴리스틱 모델임에도 불구하고, **"라인전 체급 차이가 승패를 결정짓는다"**는 가설을 통계적으로 완벽히 입증한 결과입니다.

## 6-2. 예측 정확도 검증 (Confusion Matrix)
---
<img width="600" height="500" alt="image" src="https://github.com/user-attachments/assets/42041d1a-5695-446b-ae1d-810595cba20d" />

분석:

True Positive (캐리): 기여도가 높은 승리자를 정확히 탐지했습니다.

False Positive (졌잘싸): 기여도는 높았으나(라인전 승리) 팀이 패배한 안타까운 케이스(SVP)를 식별해냈습니다.

의의: 모델이 단순 승패 결과가 아닌, 플레이어의 **'순수 개인 기량'**을 올바르게 평가하고 있음을 보여줍니다.

# 7. 결론 및 제언
---
본 프로젝트는 "어떤 피처를(Diff)", "얼마나 중요하게(Weights)", "언제(Snapshot)" 평가할 것인가에 대한 체계적인 접근을 통해 구축되었습니다.

객관성 확보: '상대 평가(Diff)' 방식을 도입하여 챔피언 간 성능 차이를 보정하고 순수 실력을 추출했습니다.

모델 고도화: 데스 페널티와 역할군 가중치를 통해 AUC를 0.72(Fair/Good) 수준으로 확보했습니다.

확장성: 프로게이머와 아마추어의 레이더 차트 비교를 통해, 개인화된 피드백을 제공할 수 있는 가능성을 확인했습니다.

이 모델은 향후 스크림 분석이나 개인 코칭 시, 단순 KDA를 넘어선 **"실질적 게임 영향력(Game Impact)"**을 평가하는 핵심 지표로 활용될 수 있습니다.





