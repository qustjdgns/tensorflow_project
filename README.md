# League of Legends 기여도 분석 모델 (PCA Statistical Model)
---

# 1. 프로젝트 개요
---
주제: 라인별 기여도 정의 및 경기 데이터 해석  
목표: 단순 승패나 KDA 를 넘어선, 객관적이고 통계적인 '개인 라인전 기량(Contribution)' 평가 모델 구축  
데이터: 챌린저 티어 매치 데이터 (Timeline 포함), Early/Mid Game (8~20분) 데이터 집중 분석  
방법론: PCA (주성분 분석) 를 활용한 비지도 학습 가중치 산출 (Label-Free Modeling)

# 2. 데이터 전처리 및 피처 선정 (Feature Engineering)
---

## 2-1. 왜 '상대 격차(Diff)' 인가?
---
[그림 1] 벡터 연산(Vector Subtraction) 개념도

<img width="3999" height="2232" alt="image" src="https://github.com/user-attachments/assets/3a7650b2-342a-41cc-b8d9-eaa39bf5df66" />



> 설명: 내 지표가 높아도 상대방이 더 높으면 의미가 없다.  
> 기여도는 상대방과의 벡터 차이(Difference) 로 정의된다.

리그 오브 레전드는 상대평가 게임이다.  
내가 CS 를 잘 획득했어도 상대가 더 많이 획득했다면 불리한 상황이다.

따라서 본 모델은 절대 지표 대신 아래의 Diff Features 를 핵심 입력값으로 사용하여  
**"맞라인 상대보다 얼마나 우월한가?"** 를 측정한다.

### Diff Features 표
---
| Feature | 정의 |
|--------|------|
| Diff Gold | (내 골드 - 상대 골드) / 시간(분) |
| Diff XP | (내 경험치 - 상대 경험치) / 시간(분) |
| Diff CS | (내 CS - 상대 CS) / 시간(분) |
| Rel Damage | 해당 시간대/라인의 중앙값(Median) 대비 딜량 비율 |

## 2-2. 피처 선정의 타당성 (대리 변수 효과)
---
본 모델은 소수의 핵심 변수(Gold, XP) 에 집중한다.  
그 이유는 '대리 변수(Proxy Variable)' 효과 때문이다.

Gold & XP 는 솔로 킬, 로밍 성공, 포탑 채굴, 디나이(Deny) 등  
모든 유리한 플레이의 최종 결과값이다.

따라서 수많은 세부 지표(와드, CC기 등) 를 넣지 않아도,  
Gold/XP/Damage 변수만으로 퍼포먼스를 설명하기에 충분하며,  
이는 PCA 분석 시 해당 피처들의 가중치가 높게 산출된 것으로 입증된다.

# 3. 기여도 모델링 방법론: PCA (Principal Component Analysis)
---
"왜 머신러닝(회귀분석) 을 쓰지 않았는가?"

승패(Win) 라벨을 학습에 사용하면,  
**'패배했지만 잘한 유저(SVP)'** 를 제대로 평가할 수 없기 때문이다.

따라서 본 프로젝트는 승패 정보를 모르는 상태에서  
**데이터의 분산만을 이용해 가중치를 찾는 비지도 학습(PCA)** 을 적용했다.

## 3-1. 모델 아키텍처 (Input - Model - Output)
---
[그림 2] PCA 차원 축소 및 가중치 산출 과정

Input ($\vec{x}$):  
4차원 벡터 [Diff Gold, Diff XP, Diff CS, Rel Damage] (Standard Scaling 적용)

Model (PCA):  
각 라인별 데이터의 공분산을 분석하여, 정보를 가장 많이 담고 있는 제1 주성분(PC1) 축을 찾았다.  
이 과정에서 각 라인별 최적 가중치($\vec{w}$) 가 데이터 기반으로 자동 산출된다다.

Output (Contribution):

$$
\text{Contribution} = \text{Normalized(PC1)} - (\text{Deaths} \times \text{Penalty})
$$

도출된 점수를 중앙값 1.0 기준으로 정규화하고,  
안정성 지표인 데스 페널티를 적용한다.

# 4. 분석 결과 및 시각화 (Analysis Result)
---

## 4-1. 라인별 기여도 분포 (Violin Plot)
---
[그림 3] 여기에 코드 결과 Figure 1 (Violin Plot) 삽입  

x축: 포지션 / y축: 기여도 점수 / 파랑: 승리팀, 빨강: 패배팀  

결과: 승리 팀은 기여도 중앙값이 1.2 이상, 패배 팀은 0.8 이하에 분포한다.  
해석: 승패 라벨을 학습하지 않았음에도 분포가 명확히 분리되는 것은,  
모델이 정의한 '기여도' 가 실제 승리에 결정적임을 시사한다다.

## 4-2. 개인별 기여도 일관성 (Consistency Plot)
---
[그림 4] 여기에 코드 결과 Figure 2 (Scatter Plot) 삽입  

x축: 매치 번호 / y축: 기여도 / 점선: 기준선(1.0), 초록선: 내 평균  

분석: 해당 소환사는 평균 1.0 이상의 기여도를 유지하고 있으며,  
패배한 경기(빨간점) 에서도 0.8 이하로 떨어지는 경우가 드묾다.

해석: 이는 '버스' 를 타거나 '던지는' 플레이 없이  
꾸준히 1인분 이상을 수행하는 **안정적인 유저(Solid Player)** 임을 보여준다.

## 4-3. 소환사 유형 군집화 (Clustering)
---
[그림 5] 여기에 코드 결과 Figure 3 (Cluster Plot) 삽입  

x축: 평균 기여도(Performance) / y축: 표준편차(Risk)

캐리형 (Risky Carry): 높은 평균 기여도 + 높은 표준편차 (공격적 플레이)  
안정형 (Solid): 높은 평균 기여도 + 낮은 표준편차 (이상적인 국밥형 플레이어)  

결과: 본 모델을 통해 소환사의 성향을 4가지 유형으로 분류할 수 있었다.

## 4-4. 경기 시간대별 기여도 변화 (Match Timeline)
---
[그림 6] 여기에 코드 결과 Figure 4 (Line Chart) 삽입  

x축: 경기 시간(분) / y축: 누적 기여도 / 실선: 승리팀, 점선: 패배팀  

분석: 초반 8분 라인전 단계에서 발생한 미세한 격차(Diff) 가  
15분, 20분으로 갈수록 스노우볼링되어 기여도 격차가 벌어지는 현상이 관측된다.

의의: 스냅샷 기반의 타임라인 분석이 유효함을 입증되었다다.

## 4-5. 모델 검증 (ROC Curve & Confusion Matrix)
---
[그림 7] 여기에 코드 결과 Figure 5 (ROC & CM) 삽입  

AUC Score: 0.72  

결과 해석: 기여도 모델 학습 시 승패 정보를 사용하지 않았음에도,  
산출된 기여도 점수만으로 승패를 72% 확률로 분류해냈다.  
이는 모델의 통계적 유의성을 강력하게 입증되었다.

## 4-6. 최상위 퍼포머 벤치마킹 (Radar Chart)
---
[그림 8] 여기에 코드 결과 Figure 6 (Radar Chart) 삽입  

파란색: 분석 대상(Me) / 빨간색: Top Performer  

비교 분석: 일반 유저와 데이터셋 내 Top Performer(Pro급) 를 비교한 결과,  
라인전 획득 능력(Gold/CS) 은 유사했으나  
안정성(Death 관리) 측면에서 큰 차이가 발생했다.

# 5. 결론 및 제언
---
본 프로젝트는 데이터 기반(Data-Driven) 의 PCA 방법론을 통해 LoL 의 기여도를 정의했다.  

이 모델은 **"승패 결과와 무관하게, 라인전 단계에서 통계적으로 얼마나 우월했는가"** 를  
객관적으로 수치화함으로써, 단순 KDA 를 넘어선 심층적인 피드백을 제공할 수 있었다.
